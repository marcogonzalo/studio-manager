---
description: Frontend Coding Standards (React, Tailwind, Shadcn)
globs: src/**/*.tsx, src/**/*.ts
---

# Frontend Standards

## React Components

- **Function Components:** Use `export function ComponentName() {}` or `const ComponentName = () => {}`.
- **Hooks:** Always follow Rules of Hooks. Custom hooks should start with `use`.
- **Props:** Define strict interfaces for props. Avoid `any`.
- **Performance:** Use `useMemo` and `useCallback` mainly for referential equality in dependencies, not premature optimization.

## Tailwind CSS

- **Utility First:** Use standard Tailwind classes.
- **Theme:** Use CSS variables defined in `index.css` (e.g., `bg-background`, `text-primary`).
- **Responsive:** Mobile-first approach. `w-full md:w-1/2`.
- **Classes:** Use `clsx` or `cn` helper for conditional classes.

## Supabase Client

- **Singleton:** Use the singleton instance from `@/lib/supabase`.
- **Types:** Import database types from `@/types` or generated Supabase types.
- **Error Handling:** Always check `error` returned by Supabase calls.

  ```ts
  const { data, error } = await supabase.from('table').select();
  if (error) toast.error(error.message);
  ```

## State Management

- **Server State:** Prefer fetching data inside components with `useEffect` or using a library like TanStack Query (if added later).
- **UI State:** `useState` for local, `useContext` for global (Auth, Theme).

## Shadcn/UI Components (Radix UI)

- **Select Component:** **CRITICAL:** Never use `value=""` (empty string) in `<SelectItem>`. Radix UI Select does not allow empty string values because it uses empty strings internally to clear selections and show placeholders.
  - **Wrong:** `<SelectItem value="">Sin opción</SelectItem>`
  - **Correct:** Remove the SelectItem and use `undefined` for optional values. Handle empty state with placeholder:
    ```tsx
    <Select 
      onValueChange={(value) => field.onChange(value || undefined)} 
      value={field.value || undefined}
    >
      <SelectTrigger>
        <SelectValue placeholder="Seleccionar opción" />
      </SelectTrigger>
      <SelectContent>
        {/* Only include SelectItems with non-empty values */}
        {options.map((option) => (
          <SelectItem key={option.id} value={option.id}>
            {option.name}
          </SelectItem>
        ))}
      </SelectContent>
    </Select>
    ```
  - **Form Defaults:** Use `undefined` instead of empty strings for optional Select fields in form defaultValues.

## Directory Structure

- `src/pages`: Routes/Views.
- `src/components/ui`: Shadcn primitives.
- `src/components`: Domain components.
- `src/lib`: Utilities and configs.
- `src/types`: Shared TypeScript definitions.
